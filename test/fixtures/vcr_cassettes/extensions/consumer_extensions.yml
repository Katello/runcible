---
http_interactions:
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/actions/content/uninstall//
    body:
      encoding: UTF-8
      string: '{"units":[{"type_id":"rpm","unit_key":{"name":"zsh"}},{"type_id":"rpm","unit_key":{"name":"foo"}}],"options":{}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '112'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:29:47 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '674'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"task_group_id": null, "exception": null, "traceback": null, "_href":
        "/pulp/api/v2/tasks/0be64a73-2448-4433-8f6e-6903729f76f0/", "task_id": "0be64a73-2448-4433-8f6e-6903729f76f0",
        "call_request_tags": ["pulp:consumer:integration_test_consumer_support", "pulp:action:unit_uninstall"],
        "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:action:unit_uninstall"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": null, "call_request_id":
        "0be64a73-2448-4433-8f6e-6903729f76f0", "principal_login": "admin", "response":
        "accepted", "result": null}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:29:47 GMT
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/actions/content/applicability//
    body:
      encoding: UTF-8
      string: '{"consumer_criteria":{"filters":{"id":{"$in":["integration_test_consumer_support"]}}},"repo_criteria":null,"unit_criteria":{"erratum":{}},"override_config":{"report_style":"by_consumer"}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '187'
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:04 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Length:
      - '683'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"erratum": {"integration_test_consumer_support": [{"details": {"status":
        "stable", "issued": "2010-01-01 01:01:01", "from": "lzap+pub@redhat.com",
        "description": "One package errata", "title": "One package errata", "_ns":
        "units_erratum", "pkglist": [{"packages": [{"src": "http://www.fedoraproject.org",
        "name": "elephant", "sum": null, "filename": "elephant-0.3-0.8.noarch.rpm",
        "epoch": null, "version": "0.3", "release": "0.8", "arch": "noarch"}], "name":
        "1", "short": ""}], "version": "1", "references": [], "_content_type_id":
        "erratum", "_id": "c4476b55-42b2-46c2-aad5-4c82e152e2a2", "type": "security",
        "id": "RHEA-2010:0002"}, "summary": {"unit_key": "RHEA-2010:0002"}}]}}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:04 GMT
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/actions/content/install//
    body:
      encoding: UTF-8
      string: '{"units":[{"type_id":"rpm","unit_key":{"name":"zsh"}},{"type_id":"rpm","unit_key":{"name":"foo"}}],"options":{}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '112'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:11 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '670'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"task_group_id": null, "exception": null, "traceback": null, "_href":
        "/pulp/api/v2/tasks/51bc8be2-95ea-4f95-bc07-1e24774a8fa5/", "task_id": "51bc8be2-95ea-4f95-bc07-1e24774a8fa5",
        "call_request_tags": ["pulp:consumer:integration_test_consumer_support", "pulp:action:unit_install"],
        "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:action:unit_install"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": null, "call_request_id":
        "51bc8be2-95ea-4f95-bc07-1e24774a8fa5", "principal_login": "admin", "response":
        "accepted", "result": null}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:11 GMT
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/actions/content/update//
    body:
      encoding: UTF-8
      string: '{"units":[{"type_id":"rpm","unit_key":{"name":"zsh"}},{"type_id":"rpm","unit_key":{"name":"foo"}}],"options":{}}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '112'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:24 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '668'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"task_group_id": null, "exception": null, "traceback": null, "_href":
        "/pulp/api/v2/tasks/f45a2659-a754-41a5-aa01-e68cad71c50c/", "task_id": "f45a2659-a754-41a5-aa01-e68cad71c50c",
        "call_request_tags": ["pulp:consumer:integration_test_consumer_support", "pulp:action:unit_update"],
        "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:action:unit_update"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": null, "call_request_id":
        "f45a2659-a754-41a5-aa01-e68cad71c50c", "principal_login": "admin", "response":
        "accepted", "result": null}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:24 GMT
- request:
    method: get
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/repositories/integration_test_id/?details=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:38 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Length:
      - '1022'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"scratchpad": {}, "display_name": "integration_test_id", "description":
        null, "_ns": "repos", "notes": {}, "content_unit_counts": {"package_group":
        2, "distribution": 1, "package_category": 1, "rpm": 8, "erratum": 2}, "_id":
        {"$oid": "51f80618196cbe402b5977e3"}, "id": "integration_test_id", "_href":
        "/pulp/api/v2/repositories/integration_test_id/", "importers": [{"repo_id":
        "integration_test_id", "_ns": "repo_importers", "importer_type_id": "yum_importer",
        "last_sync": "2013-07-30T14:29:45-04:00", "scheduled_syncs": [], "_id": {"$oid":
        "51f80618196cbe402b5977e4"}, "config": {"feed": "file:///home/paji/katello/runcible/test/fixtures/repositories/zoo5"},
        "id": "yum_importer"}], "distributors": [{"repo_id": "integration_test_id",
        "_ns": "repo_distributors", "last_publish": null, "auto_publish": false, "scheduled_publishes":
        [], "distributor_type_id": "yum_distributor", "_id": {"$oid": "51f80618196cbe402b5977e5"},
        "config": {"http": true, "relative_url": "/path", "https": true}, "id": "2af41e194d169f2f17cd"}]}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:39 GMT
- request:
    method: delete
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/bindings/integration_test_id/2af41e194d169f2f17cd/
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:39 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '1844'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '[{"task_group_id": "6902450b-cf9d-4b10-8123-8af2665992b8", "exception":
        null, "traceback": null, "_href": "/pulp/api/v2/task_groups/6902450b-cf9d-4b10-8123-8af2665992b8/",
        "task_id": "1c457c4b-c36b-43b4-a781-6ce8fd070423", "call_request_tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:unbind"], "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:unbind"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": "6902450b-cf9d-4b10-8123-8af2665992b8",
        "call_request_id": "1c457c4b-c36b-43b4-a781-6ce8fd070423", "principal_login":
        "admin", "response": "accepted", "result": null}, {"task_group_id": "6902450b-cf9d-4b10-8123-8af2665992b8",
        "exception": null, "traceback": null, "_href": "/pulp/api/v2/task_groups/6902450b-cf9d-4b10-8123-8af2665992b8/",
        "task_id": "655a7c1e-9d5f-46d0-bfe9-3d0bf2ec8b63", "call_request_tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:agent_unbind"], "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:agent_unbind"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": "6902450b-cf9d-4b10-8123-8af2665992b8",
        "call_request_id": "655a7c1e-9d5f-46d0-bfe9-3d0bf2ec8b63", "principal_login":
        "admin", "response": "accepted", "result": null}]'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:39 GMT
- request:
    method: get
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/repositories/integration_test_id/?details=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:41 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Length:
      - '1022'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"scratchpad": {}, "display_name": "integration_test_id", "description":
        null, "_ns": "repos", "notes": {}, "content_unit_counts": {"package_group":
        2, "distribution": 1, "package_category": 1, "rpm": 8, "erratum": 2}, "_id":
        {"$oid": "51f80618196cbe402b5977e3"}, "id": "integration_test_id", "_href":
        "/pulp/api/v2/repositories/integration_test_id/", "importers": [{"repo_id":
        "integration_test_id", "_ns": "repo_importers", "importer_type_id": "yum_importer",
        "last_sync": "2013-07-30T14:29:45-04:00", "scheduled_syncs": [], "_id": {"$oid":
        "51f80618196cbe402b5977e4"}, "config": {"feed": "file:///home/paji/katello/runcible/test/fixtures/repositories/zoo5"},
        "id": "yum_importer"}], "distributors": [{"repo_id": "integration_test_id",
        "_ns": "repo_distributors", "last_publish": null, "auto_publish": false, "scheduled_publishes":
        [], "distributor_type_id": "yum_distributor", "_id": {"$oid": "51f80618196cbe402b5977e5"},
        "config": {"http": true, "relative_url": "/path", "https": true}, "id": "2af41e194d169f2f17cd"}]}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:41 GMT
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/bindings//
    body:
      encoding: UTF-8
      string: '{"repo_id":"integration_test_id","distributor_id":"2af41e194d169f2f17cd","notify_agent":false}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '94'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:41 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '912'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '[{"task_group_id": "e766174f-f281-41fa-b110-6580b6d6cb6d", "exception":
        null, "traceback": null, "_href": "/pulp/api/v2/task_groups/e766174f-f281-41fa-b110-6580b6d6cb6d/",
        "task_id": "b5356ef5-1869-4c80-8387-ea05ab373ab9", "call_request_tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:bind"], "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:bind"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": "e766174f-f281-41fa-b110-6580b6d6cb6d",
        "call_request_id": "b5356ef5-1869-4c80-8387-ea05ab373ab9", "principal_login":
        "admin", "response": "accepted", "result": null}]'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:41 GMT
- request:
    method: get
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/repositories/integration_test_id/?details=true
    body:
      encoding: US-ASCII
      string: ''
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      User-Agent:
      - Ruby
  response:
    status:
      code: 200
      message: OK
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:44 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Length:
      - '1022'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '{"scratchpad": {}, "display_name": "integration_test_id", "description":
        null, "_ns": "repos", "notes": {}, "content_unit_counts": {"package_group":
        2, "distribution": 1, "package_category": 1, "rpm": 8, "erratum": 2}, "_id":
        {"$oid": "51f80618196cbe402b5977e3"}, "id": "integration_test_id", "_href":
        "/pulp/api/v2/repositories/integration_test_id/", "importers": [{"repo_id":
        "integration_test_id", "_ns": "repo_importers", "importer_type_id": "yum_importer",
        "last_sync": "2013-07-30T14:29:45-04:00", "scheduled_syncs": [], "_id": {"$oid":
        "51f80618196cbe402b5977e4"}, "config": {"feed": "file:///home/paji/katello/runcible/test/fixtures/repositories/zoo5"},
        "id": "yum_importer"}], "distributors": [{"repo_id": "integration_test_id",
        "_ns": "repo_distributors", "last_publish": null, "auto_publish": false, "scheduled_publishes":
        [], "distributor_type_id": "yum_distributor", "_id": {"$oid": "51f80618196cbe402b5977e5"},
        "config": {"http": true, "relative_url": "/path", "https": true}, "id": "2af41e194d169f2f17cd"}]}'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:44 GMT
- request:
    method: post
    uri: https://admin:admin@kafka.usersys.redhat.com/pulp/api/v2/consumers/integration_test_consumer_support/bindings//
    body:
      encoding: UTF-8
      string: '{"repo_id":"integration_test_id","distributor_id":"2af41e194d169f2f17cd","notify_agent":false}'
    headers:
      Accept:
      - application/json
      Accept-Encoding:
      - gzip, deflate
      Content-Type:
      - application/json
      Content-Length:
      - '94'
      User-Agent:
      - Ruby
  response:
    status:
      code: 202
      message: Accepted
    headers:
      Date:
      - Tue, 30 Jul 2013 18:30:44 GMT
      Server:
      - Apache/2.4.4 (Fedora) OpenSSL/1.0.1e-fips mod_wsgi/3.4 Python/2.7.3
      Content-Encoding:
      - utf-8
      Content-Length:
      - '912'
      Content-Type:
      - application/json
    body:
      encoding: UTF-8
      string: '[{"task_group_id": "cbd0a20a-a156-414e-b9f6-915f1c5c7e08", "exception":
        null, "traceback": null, "_href": "/pulp/api/v2/task_groups/cbd0a20a-a156-414e-b9f6-915f1c5c7e08/",
        "task_id": "854ddbfe-d7aa-495d-8be2-663a7b30b610", "call_request_tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:bind"], "reasons": [], "start_time": null, "tags": ["pulp:consumer:integration_test_consumer_support",
        "pulp:repository:integration_test_id", "pulp:repository_distributor:2af41e194d169f2f17cd",
        "pulp:action:bind"], "state": "waiting", "finish_time": null, "dependency_failures":
        {}, "schedule_id": null, "progress": {}, "call_request_group_id": "cbd0a20a-a156-414e-b9f6-915f1c5c7e08",
        "call_request_id": "854ddbfe-d7aa-495d-8be2-663a7b30b610", "principal_login":
        "admin", "response": "accepted", "result": null}]'
    http_version: 
  recorded_at: Tue, 30 Jul 2013 18:30:44 GMT
recorded_with: VCR 2.5.0
